# Главный (master) скрипт, в который будут подключаться скрипты с изменениями структуры БД в различных версиях
databaseChangeLog:
# Видно, что основным структурным элементом скрипта является changeSet. Его можно
# рассматривать как аналог коммита в Git. ChangeSet содержит информацию об
# атомарном изменении в структуру БД, которое может быть целиком применено или откачено
  - changeSet:
      id: tag-0.0
      author: risaray
      context: init
      comment: "Tag for empty database"
      changes:
# ChangeSet, которые находятся в главном скрипте, не вносят непосредственно
# изменений в структуру БД, а только добавляют т.н. теги версий. Это метки, которые в
# дальнейшем упрощают отслеживание и управление изменениями.
        - tagDatabase:
            tag: v0.0

# Сами изменения вносятся в скриптах, подключаемых директивой include
  - include:
      file: v1_0/db.changelog-1.0-create-payment.yaml
      relativeToChangelogFile: true

  - changeSet:
      id: tag-1.0
      author: risaray
      changes:
        - tagDatabase:
            tag: v1.0

  - include:
      file: v1_1/db.changelog-1.1-add-demo-payment.yaml
      relativeToChangelogFile: true

  - changeSet:
      id: tag-1.1
      author: risaray
      changes:
        - tagDatabase:
            tag: v1.1